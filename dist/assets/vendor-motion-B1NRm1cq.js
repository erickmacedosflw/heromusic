import{r as l,j as H}from"./vendor-react-Jel5_CP7.js";import{g as jt,s as ht,i as dt,a as X,b as mt,c as Rt,d as Ft,e as Ot,f as Gt,r as Wt,h as Ht,j as pt,k as Bt,l as Ut,m as Nt,o as zt,S as _t,H as $t,F as E,n as Xt,p as gt,q as A,t as Y,u as x,v as vt,w as Yt,x as q,y as qt,z as T,A as B,B as J,C as Jt,D as Kt,E as S,G as Qt,I as Zt,J as te,K,L as ee,M as ne,N as Q,O as se,P as oe,Q as b,R as ie,T as re,U as Pt,V as ae,W as ue}from"./vendor-y2JGIE03.js";const yt=l.createContext({});function le(e){const t=l.useRef(null);return t.current===null&&(t.current=e()),t.current}const wt=typeof window<"u",ce=wt?l.useLayoutEffect:l.useEffect,z=l.createContext(null),xt=l.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function fe(e=!0){const t=l.useContext(z);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,i=l.useId();l.useEffect(()=>{if(e)return o(i)},[e]);const r=l.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,r]:[!0]}const St=l.createContext({strict:!1}),Z={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let tt=!1;function he(){if(tt)return;const e={};for(const t in Z)e[t]={isEnabled:n=>Z[t].some(s=>!!n[s])};ht(e),tt=!0}function Et(){return he(),jt()}function de(e){const t=Et();for(const n in e)t[n]={...t[n],...e[n]};ht(t)}const me=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function I(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||me.has(e)}let Ct=e=>!I(e);function pe(e){typeof e=="function"&&(Ct=t=>t.startsWith("on")?!I(t):e(t))}try{pe(require("@emotion/is-prop-valid").default)}catch{}function ge(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Ct(o)||n===!0&&I(o)||!t&&!I(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const k=l.createContext({});function ve(e,t){if(dt(e)){const{initial:n,animate:s}=e;return{initial:n===!1||X(n)?n:void 0,animate:X(s)?s:void 0}}return e.inherit!==!1?t:{}}function Pe(e){const{initial:t,animate:n}=ve(e,l.useContext(k));return l.useMemo(()=>({initial:t,animate:n}),[et(t),et(n)])}function et(e){return Array.isArray(e)?e.join(" "):e}const _=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mt(e,t,n){for(const s in t)!mt(t[s])&&!Rt(s,n)&&(e[s]=t[s])}function ye({transformTemplate:e},t){return l.useMemo(()=>{const n=_();return Ft(n,t,e),Object.assign({},n.vars,n.style)},[t])}function we(e,t){const n=e.style||{},s={};return Mt(s,n,e),Object.assign(s,ye(e,t)),s}function xe(e,t){const n={},s=we(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Vt=()=>({..._(),attrs:{}});function Se(e,t,n,s){const o=l.useMemo(()=>{const i=Vt();return Ot(i,t,Gt(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Mt(i,e.style,e),o.style={...i,...o.style}}return o}const Ee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $(e){return typeof e!="string"||e.includes("-")?!1:!!(Ee.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ce(e,t,n,{latestValues:s},o,i=!1,r){const d=(r??$(e)?Se:xe)(t,s,o,e),f=ge(t,typeof e=="string",i),p=e!==l.Fragment?{...f,...d,ref:n}:{},{children:c}=t,u=l.useMemo(()=>mt(c)?c.get():c,[c]);return l.createElement(e,{...p,children:u})}function Me({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:Ve(n,s,o,e),renderState:t()}}function Ve(e,t,n,s){const o={},i=s(e,{});for(const u in i)o[u]=Wt(i[u]);let{initial:r,animate:a}=e;const d=dt(e),f=Ht(e);t&&f&&!d&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let p=n?n.initial===!1:!1;p=p||r===!1;const c=p?a:r;if(c&&typeof c!="boolean"&&!pt(c)){const u=Array.isArray(c)?c:[c];for(let m=0;m<u.length;m++){const h=Bt(e,u[m]);if(h){const{transitionEnd:P,transition:y,...v}=h;for(const g in v){let w=v[g];if(Array.isArray(w)){const D=p?w.length-1:0;w=w[D]}w!==null&&(o[g]=w)}for(const g in P)o[g]=P[g]}}}return o}const Dt=e=>(t,n)=>{const s=l.useContext(k),o=l.useContext(z),i=()=>Me(e,t,s,o);return n?i():le(i)},De=Dt({scrapeMotionValuesFromProps:Ut,createRenderState:_}),Le=Dt({scrapeMotionValuesFromProps:Nt,createRenderState:Vt}),be=Symbol.for("motionComponentSymbol");function Ae(e,t,n){const s=l.useRef(n);l.useInsertionEffect(()=>{s.current=n});const o=l.useRef(null);return l.useCallback(i=>{i&&e.onMount?.(i),t&&(i?t.mount(i):t.unmount());const r=s.current;if(typeof r=="function")if(i){const a=r(i);typeof a=="function"&&(o.current=a)}else o.current?(o.current(),o.current=null):r(i);else r&&(r.current=i)},[t])}const Lt=l.createContext({});function C(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Te(e,t,n,s,o,i){const{visualElement:r}=l.useContext(k),a=l.useContext(St),d=l.useContext(z),f=l.useContext(xt),p=f.reducedMotion,c=f.skipAnimations,u=l.useRef(null),m=l.useRef(!1);s=s||a.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:r,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,skipAnimations:c,isSVG:i}),m.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const h=u.current,P=l.useContext(Lt);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&Ie(u.current,n,o,P);const y=l.useRef(!1);l.useInsertionEffect(()=>{h&&y.current&&h.update(n,d)});const v=n[zt],g=l.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return ce(()=>{m.current=!0,h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),l.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),g.current=!1),h.enteringChildren=void 0)}),h}function Ie(e,t,n,s){const{layoutId:o,layout:i,drag:r,dragConstraints:a,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bt(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:!!r||a&&C(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:d,layoutRoot:f})}function bt(e){if(e)return e.options.allowProjection!==!1?e.projection:bt(e.parent)}function j(e,{forwardMotionProps:t=!1,type:n}={},s,o){s&&de(s);const i=n?n==="svg":$(e),r=i?Le:De;function a(f,p){let c;const u={...l.useContext(xt),...f,layoutId:ke(f)},{isStatic:m}=u,h=Pe(f),P=r(f,m);if(!m&&wt){je();const y=Re(u);c=y.MeasureLayout,h.visualElement=Te(e,P,u,o,y.ProjectionNode,i)}return H.jsxs(k.Provider,{value:h,children:[c&&h.visualElement?H.jsx(c,{visualElement:h.visualElement,...u}):null,Ce(e,f,Ae(P,h.visualElement,p),P,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=l.forwardRef(a);return d[be]=e,d}function ke({layoutId:e}){const t=l.useContext(yt).id;return t&&e!==void 0?t+"-"+e:e}function je(e,t){l.useContext(St).strict}function Re(e){const t=Et(),{drag:n,layout:s}=t;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function Fe(e,t){if(typeof Proxy>"u")return j;const n=new Map,s=(i,r)=>j(i,r,e,t),o=(i,r)=>s(i,r);return new Proxy(o,{get:(i,r)=>r==="create"?s:(n.has(r)||n.set(r,j(r,void 0,e,t)),n.get(r))})}const Oe=(e,t)=>t.isSVG??$(e)?new _t(t):new $t(t,{allowProjection:e!==l.Fragment});class Ge extends E{constructor(t){super(t),t.animationState||(t.animationState=Xt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let We=0;class He extends E{constructor(){super(...arguments),this.id=We++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Be={animation:{Feature:Ge},exit:{Feature:He}};function V(e){return{point:{x:e.pageX,y:e.pageY}}}const Ue=e=>t=>gt(t)&&e(t,V(t));function M(e,t,n,s){return A(e,t,Ue(n),s)}const At=({current:e})=>e?e.ownerDocument.defaultView:null,nt=(e,t)=>Math.abs(e-t);function Ne(e,t){const n=nt(e.x,t.x),s=nt(e.y,t.y);return Math.sqrt(n**2+s**2)}const st=new Set(["auto","scroll"]);class Tt{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:i=!1,distanceThreshold:r=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=F(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,P=Ne(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!P)return;const{point:y}=m,{timestamp:v}=Y;this.history.push({...y,timestamp:v});const{onStart:g,onMove:w}=this.handlers;h||(g&&g(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=R(h,this.transformPagePoint),x.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:P,onSessionEnd:y,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=F(m.type==="pointercancel"?this.lastMoveEventInfo:R(h,this.transformPagePoint),this.history);this.startEvent&&P&&P(m,g),y&&y(m,g)},!gt(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=o||window;const d=V(t),f=R(d,this.transformPagePoint),{point:p}=f,{timestamp:c}=Y;this.history=[{...p,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,F(f,this.history)),this.removeListeners=vt(M(this.contextWindow,"pointermove",this.handlePointerMove),M(this.contextWindow,"pointerup",this.handlePointerUp),M(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(st.has(s.overflowX)||st.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:o.x-n.x,y:o.y-n.y};i.x===0&&i.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,o),x.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Yt(this.updatePoint)}}function R(e,t){return t?{point:t(e.point)}:e}function ot(e,t){return{x:e.x-t.x,y:e.y-t.y}}function F({point:e},t){return{point:e,delta:ot(e,It(t)),offset:ot(e,ze(t)),velocity:_e(t,.1)}}function ze(e){return e[0]}function It(e){return e[e.length-1]}function _e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=It(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>q(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&o.timestamp-s.timestamp>q(t)*2&&(s=e[1]);const i=qt(o.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const r={x:(o.x-s.x)/i,y:(o.y-s.y)/i};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function $e(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?T(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?T(n,e,s.max):Math.min(e,n)),e}function it(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Xe(e,{top:t,left:n,bottom:s,right:o}){return{x:it(e.x,n,o),y:it(e.y,t,s)}}function rt(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Ye(e,t){return{x:rt(e.x,t.x),y:rt(e.y,t.y)}}function qe(e,t){let n=.5;const s=B(e),o=B(t);return o>s?n=J(t.min,t.max-s,e.min):s>o&&(n=J(e.min,e.max-o,t.min)),Jt(0,1,n)}function Je(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const U=.35;function Ke(e=U){return e===!1?e=0:e===!0&&(e=U),{x:at(e,"left","right"),y:at(e,"top","bottom")}}function at(e,t,n){return{min:ut(e,t),max:ut(e,n)}}function ut(e,t){return typeof e=="number"?e:e[t]||0}const Qe=new WeakMap;class Ze{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const i=c=>{n&&this.snapToCursor(V(c).point),this.stopAnimation()},r=(c,u)=>{const{drag:m,dragPropagation:h,onDragStart:P}=this.getProps();if(m&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ne(m),!this.openDragLock))return;this.latestPointerEvent=c,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),S(v=>{let g=this.getAxisMotionValue(v).get()||0;if(se.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const D=w.layout.layoutBox[v];D&&(g=B(D)*(parseFloat(g)/100))}}this.originPoint[v]=g}),P&&x.update(()=>P(c,u),!1,!0),K(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(c,u)=>{this.latestPointerEvent=c,this.latestPanInfo=u;const{dragPropagation:m,dragDirectionLock:h,onDirectionLock:P,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=u;if(h&&this.currentDirection===null){this.currentDirection=en(v),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),y&&x.update(()=>y(c,u),!1,!0)},d=(c,u)=>{this.latestPointerEvent=c,this.latestPanInfo=u,this.stop(c,u),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:c}=this.getProps();(c||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new Tt(t,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:At(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!o||!s)return;const{velocity:r}=o;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&x.postRender(()=>a(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!L(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=$e(r,this.constraints[t],this.elastic[t])),i.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&C(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Xe(s.layoutBox,t):this.constraints=!1,this.elastic=Ke(n),o!==this.constraints&&!C(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&S(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Je(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!C(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=Qt(s,o.root,this.visualElement.getTransformPagePoint());let r=Ye(o.layout.layoutBox,i);if(n){const a=n(Zt(r));this.hasMutatedConstraints=!!a,a&&(r=te(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:i,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),d=this.constraints||{},f=S(p=>{if(!L(p,n,this.currentDirection))return;let c=d&&d[p]||{};r&&(c={min:0,max:0});const u=o?200:1e6,m=o?40:1e7,h={type:"inertia",velocity:s?t[p]:0,bounceStiffness:u,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(p,h)});return Promise.all(f).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return K(this.visualElement,t),s.start(ee(t,s,0,n,this.visualElement,!1))}stopAnimation(){S(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){S(n=>{const{drag:s}=this.getProps();if(!L(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:r,max:a}=o.layout.layoutBox[n],d=i.get()||0;i.set(t[n]-T(r,a,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!C(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};S(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const d=a.get();o[r]=qe({min:d,max:d},this.constraints[r])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),S(r=>{if(!L(r,t,null))return;const a=this.getAxisMotionValue(r),{min:d,max:f}=this.constraints[r];a.set(T(d,f,o[r]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Qe.set(this.visualElement,this);const t=this.visualElement.current,n=M(t,"pointerdown",f=>{const{drag:p,dragListener:c=!0}=this.getProps(),u=f.target,m=u!==t&&oe(u);p&&c&&!m&&this.start(f)});let s;const o=()=>{const{dragConstraints:f}=this.getProps();C(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),s||(s=tn(t,f.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,r=i.addEventListener("measure",o);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),x.read(o);const a=A(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(S(c=>{const u=this.getAxisMotionValue(c);u&&(this.originPoint[c]+=f[c].translate,u.set(u.get()+f[c].translate))}),this.visualElement.render())}));return()=>{a(),n(),r(),d&&d(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:r=U,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:i,dragElastic:r,dragMomentum:a}}}function lt(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function tn(e,t,n){const s=Q(e,lt(n)),o=Q(t,lt(n));return()=>{s(),o()}}function L(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function en(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class nn extends E{constructor(t){super(t),this.removeGroupControls=b,this.removeListeners=b,this.controls=new Ze(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||b}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const O=e=>(t,n)=>{e&&x.update(()=>e(t,n),!1,!0)};class sn extends E{constructor(){super(...arguments),this.removePointerDownListener=b}onPointerDown(t){this.session=new Tt(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:At(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:O(t),onStart:O(n),onMove:O(s),onEnd:(i,r)=>{delete this.session,o&&x.postRender(()=>o(i,r))}}}mount(){this.removePointerDownListener=M(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let G=!1;class on extends l.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),s&&s.register&&o&&s.register(i),G&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),re.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:i}=this.props,{projection:r}=s;return r&&(r.isPresent=i,t.layoutDependency!==n&&r.setOptions({...r.options,layoutDependency:n}),G=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==i?r.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?r.promote():r.relegate()||x.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ie.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;G=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kt(e){const[t,n]=fe(),s=l.useContext(yt);return H.jsx(on,{...e,layoutGroup:s,switchLayoutGroup:l.useContext(Lt),isPresent:t,safeToRemove:n})}const rn={pan:{Feature:sn},drag:{Feature:nn,ProjectionNode:Pt,MeasureLayout:kt}};function ct(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,i=s[o];i&&x.postRender(()=>i(t,V(t)))}class an extends E{mount(){const{current:t}=this.node;t&&(this.unmount=ae(t,(n,s)=>(ct(this.node,s,"Start"),o=>ct(this.node,o,"End"))))}unmount(){}}class un extends E{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vt(A(this.node.current,"focus",()=>this.onFocus()),A(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ft(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),i=s[o];i&&x.postRender(()=>i(t,V(t)))}class ln extends E{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=ue(t,(o,i)=>(ft(this.node,i,"Start"),(r,{success:a})=>ft(this.node,r,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const N=new WeakMap,W=new WeakMap,cn=e=>{const t=N.get(e.target);t&&t(e)},fn=e=>{e.forEach(cn)};function hn({root:e,...t}){const n=e||document;W.has(n)||W.set(n,{});const s=W.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(fn,{root:e,...t})),s[o]}function dn(e,t,n){const s=hn(t);return N.set(e,n),s.observe(e),()=>{N.delete(e),s.unobserve(e)}}const mn={some:0,all:1};class pn extends E{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:i}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:mn[o]},a=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:c}=this.node.getProps(),u=f?p:c;u&&u(d)};return dn(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gn(t,n))&&this.startObserver()}unmount(){}}function gn({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vn={inView:{Feature:pn},tap:{Feature:ln},focus:{Feature:un},hover:{Feature:an}},Pn={layout:{ProjectionNode:Pt,MeasureLayout:kt}},yn={...Be,...vn,...rn,...Pn},En=Fe(yn,Oe);export{En as m};
//# sourceMappingURL=vendor-motion-B1NRm1cq.js.map
